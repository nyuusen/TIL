# インデックス

※MySQLのInnoDBでの話

- 主キーで自動的にクラスタ化インデックスを作成される
  - B+treeそのものがテーブル本体（なので1つのテーブルに1つしか設定できない）
  - このインデックスの順番で、ディスク上の物理的なデータが並んでいる
- CREATE INDEXを使って作成したものは非クラスタ化インデックスが作成される
  - ここにはインデックスが貼られているカラムとクラスタ化インデックスへの参照が含まれる
  - なので非クラスタ化インデックスで検索を行うと、見つかった参照(ポインタ)で主キー(クラスタ化インデックス)を引き直すKey Lookupが発生する
    - このKey Lookupが大量に発生するとI/Oが嵩むと「インデックス貼っているのに遅い」ということが発生する
      - そこで必要カラムをインデックスに含めるカバリングインデックス（複合インデックス）を作成することで、データ本体を見に行かなくても、葉ノードに含まれるデータのコピーを見るだけで済むので、Key Lookupが発生しない
      - 

## インデックスの再構築

## インデックスのライフサイクル
