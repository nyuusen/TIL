# AWSで始めるインフラ構築入門

## 4.VPC

### 基本

- VPC内には1つ以上のサブネットを構成する
  - サブネットはプライベート/パブリックがある
- AZごとにサブネットを構成すると、可用性が向上する
  - VPC(AZ1(PublicSubnet&PrivateSubnet)AZ2(PublicSubnet&PrivateSubnet))

### IPv4　CIDRの設計方法

- サブネットを一度作成すると、サブネットが利用するCIDRブロックは変更不可
- CIDR設計する際に、以下の2点をまずは考える必要がある
  1. 作成するサブネット数
  2. サブネット内に作成するリソース数
  - これらはトレードオフの関係にあり、サブネットの数を増やすと、サブネット内のリソース数は減る
  - 例えば、10.0.0.0/16というCIDRブロックを持つVPCを仮定する
    - /16なので、第3・4オクテッド(16ビット分)がホスト部になる
  - 16ビットの中で、サブネットとリソースを割り当てることになる
    - サブネット8ビット(256)とした場合は、リソースも8ビット(256-5=251)となる
    - ※リソース数は理論的な最大値から5つを引いた数になる