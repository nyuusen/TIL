# WWWとREST

## RESTとは？

- Representational State Transferの略
- Representational: 表現
  - リソースの情報をHTMLやJSON等の何らかの表現形式でやり取りする
- State: 状態
  - クライアントが受け取った情報に持つ現在の状態
- Transfer: 転送
  - 表現をサーバー・クライアント間でやり取りする
- まとめると、**リソースの表現(HTML等)をクライアント側が受け取り、リンクを辿っていくことで状態(ページ)遷移していく仕組み・原則**を指している

## RESTが生まれた背景

- 当時のWebは、クライアント–サーバー間の通信に統一的な設計ルールがなく、混沌としていた
  - サーバー側がクライアントの状態（セッション）を保持しており、スケーラビリティに課題があった
  - クライアントがサーバーの処理を関数呼び出しのように扱い、HTTPメソッド（GET/POSTなど）の使い分けがされていなかった
  - URL設計もバラバラで、処理名がそのままURLに使われることも多かった（例：`/getUser`、`/doSomething` など）
- そんな中、2000年にRoy Fieldingが博士論文で提唱したのがREST
  - すでに存在していたWWWの「うまく機能していた部分（成功例）」を抽出・一般化した設計スタイル
  - 注意点として、RESTという設計思想がWebに先立って設計されたわけではなく、**既存の成功例からWebの原理を抽象化して設計原則としてまとめたもの**である

## RESTの思想・原則の詳細

- クライアント・サーバーという関係
- サーバー側が状態を持たない
  - 状態(アクセスしたページ情報等)はクライアント側で持ち、サーバー側は状態を持たない（リクエストに対してシンプルに応答する）
- インターフェイスの統一
  - リソースに対して何をするかを、URI(リソース)とHTTPメソッド(何をする)で表す
- この思想・原則に完全に守っている場合をRESTfulと表現する
- HTTPキャッシュが効きやすくなる
  - 状態に依存しない

## WWWとは？

- World Wide Web
- **ハイパーテキストをリンクで繋ぎ、インターネット上で閲覧可能な仕組み全体**を指す
- 現在のWebを構成する技術要素(HTTP/URL/HTML/ブラウザ..)が組み合わさり実現される全体を指している

## WWWとRESTの関係性

- WWWはあくまで仕組み全体を指している
- その中でこういうルールで作っていきましょうというのがREST

## JSONを返すWeb APIがなぜRESTと誤用されるのか？

- Ajax + JSONの台頭により、Web API＝JSONを返すAPIという認識が広まった
- その時に設計されるAPIがRESTful（RESTっぽい）ものが多かったので、REST API＝JSONを返すWebAPIという誤用が広まった
